<body class="p-1">
  <div class="container-fluid">
    <form
      id="editForm"
      [formGroup]="editForm"
      (ngSubmit)="confirm()"
      autocomplete="off"
    >
      <div class="d-flex background-rectangle-panel-shadow">
        <div class="col-6 d-flex align-items-center justify-content-center">
          <button
            class="btn empty-button"
            type="submit"
            [disabled]="editForm.invalid"
          >
            <span class="material-symbols-outlined text-muted">
              check_circle
            </span>
            <div class="text-muted">{{ Localization.getWord("approve") }}</div>
          </button>
        </div>
        <div
          class="col-6 d-flex flex-column align-items-center justify-content-center"
        >
          <button
            class="btn empty-button"
            type="button"
            (click)="reject()"
            [disabled]="editForm.invalid"
          >
            <span class="material-symbols-outlined text-muted"> cancel </span>
            <div class="text-muted">{{ Localization.getWord("reject") }}</div>
          </button>
        </div>
      </div>
      <div class="mt-2">
        <app-advertisement-main-data
          [title]="appStore.selectedAdvertisement()?.title"
          [message]="appStore.selectedAdvertisement()?.message"
          [url]="appStore.selectedAdvertisement()?.adImage?.url"
          [linkName]="appStore.selectedAdvertisement()?.linkName"
          [linkValue]="appStore.selectedAdvertisement()?.linkValue"
          [created]="appStore.selectedAdvertisement()?.created"
          [updated]="appStore.selectedAdvertisement()?.updated"
        ></app-advertisement-main-data>

        <mat-form-field class="mt-2 w-100 background-rectangle-panel-common">
          <mat-label>{{ Localization.getWord("admin_comment") }}</mat-label>
          <textarea
            matInput
            rows="3"
            name="adminMessage"
            formControlName="adminMessage"
          ></textarea>
          <mat-error>{{
            matErrorService.getErrorMessage(
              editForm.controls["adminMessage"],
              "adminMessage"
            )
          }}</mat-error>
          <mat-hint [align]="'end'">
            {{ commentCounter }}/{{ maxCommentLength }}</mat-hint
          >
        </mat-form-field>
      </div>
    </form>
    <ng-template #modalDialog>
      <div class="modal-body">
        <div class="d-flex flex-column">
          <h6 class="modal-title pull-left mb-0">
            {{ Localization.getWord("approve_advertisement_question") }}
          </h6>
          <hr />
        </div>
        <div>{{ Localization.getWord("set_allowed_posting_frequency") }}</div>
        <mat-form-field floatLabel="always" class="w-100 mt-3">
          <mat-label>{{ Localization.getWord("days") }}</mat-label>
          <input
            matInput
            type="number"
            [placeholder]="Localization.getWord('one_time_posting')"
            step="1"
            min="0"
            name="frequencyValue"
            [formControl]="$any(editFormModalDialog.controls['frequencyValue'])"
          />
          <mat-error>{{
            matErrorService.getErrorMessage(
              editFormModalDialog.controls["frequencyValue"],
              "frequencyValue"
            )
          }}</mat-error>
        </mat-form-field>

        <div class="d-flex justify-content-end">
          <button
            class="btn empty-button"
            (click)="modalDialogConfirm(advertisementStatus.validated)"
            [disabled]="editFormModalDialog.invalid"
          >
            <div>{{ Localization.getWord("approve") }}</div></button
          ><button class="btn empty-button" (click)="modalRef?.hide()">
            <div>{{ Localization.getWord("back") }}</div>
          </button>
        </div>
      </div>
    </ng-template>
  </div>
</body>
