@if(advertisement){
<div class="container">
  <!-- buttons: status NEW  -->
  <div *ngIf="advertisement.statusId === advertisementStatus.new">
    <div class="d-flex mt-2">
      <div class="col-4 d-flex align-items-center justify-content-center">
        <button class="btn empty-button" (click)="delete()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path
              d="m376-336 104-104 104 104 20-20-104-104 104-104-20-20-104 104-104-104-20 20 104 104-104 104 20 20Zm-64 164q-26 0-43-17t-17-43v-488h-40v-28h148v-28h240v28h148v28h-40v488q0 26-17 43t-43 17H312Zm368-548H280v488q0 12 10 22t22 10h336q12 0 22-10t10-22v-488Zm-400 0v520-520Z"
            />
          </svg>
          <div class="text-muted">Удалить</div>
        </button>
      </div>
      <div
        class="col-4 d-flex flex-column align-items-center justify-content-center"
      >
        <button class="btn empty-button" (click)="edit()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path
              d="M200-200h40l439-439-40-40-439 439v40Zm-28 28v-80l527-528q4.39-3.83 9.7-5.91Q714-788 719.68-788q5.67 0 11 1.5Q736-785 741-780l39 39q5 5 6.5 10.41t1.5 10.82q0 5.77-1.91 11.07-1.92 5.31-6.09 9.7L252-172h-80Zm589-548-41-41 41 41Zm-102.35 61.35L639-679l40 40-20.35-19.65Z"
            />
          </svg>
          <div class="text-muted">Редактировать</div>
        </button>
      </div>
      <div
        class="col-4 d-flex flex-column align-items-center justify-content-center"
      >
        <button class="btn empty-button" (click)="sendToValidate()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path
              d="M272-92q-26 0-43-17t-17-43v-376q0-26 17-43t43-17h74v28h-74q-12 0-22 10t-10 22v376q0 12 10 22t22 10h416q12 0 22-10t10-22v-376q0-12-10-22t-22-10h-74v-28h74q26 0 43 17t17 43v376q0 26-17 43t-43 17H272Zm194-254v-432l-90 90-20-20 124-124 124 124-20 20-90-90v432h-28Z"
            />
          </svg>
          <div class="text-muted">Валидировать</div>
        </button>
      </div>
    </div>
    <hr />
  </div>

  <!-- buttons: status VALIDATED  -->
  <div *ngIf="advertisement.statusId === advertisementStatus.validated">
    <div class="d-flex mt-2">
      <div class="col-6 d-flex align-items-center justify-content-center">
        <button class="btn empty-button" (click)="delete()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path
              d="m376-336 104-104 104 104 20-20-104-104 104-104-20-20-104 104-104-104-20 20 104 104-104 104 20 20Zm-64 164q-26 0-43-17t-17-43v-488h-40v-28h148v-28h240v28h148v28h-40v488q0 26-17 43t-43 17H312Zm368-548H280v488q0 12 10 22t22 10h336q12 0 22-10t10-22v-488Zm-400 0v520-520Z"
            />
          </svg>
          <div class="text-muted">Удалить</div>
        </button>
      </div>
      <div
        class="col-6 d-flex flex-column align-items-center justify-content-center"
      >
        <button class="btn empty-button" (click)="publishDialogShow()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path
              d="M182-236v-492l467 201q-13 2-27.5 4.5T598-516L210-680v160l180 40-180 40v160l249-106q-4 8-7 19t-4 16L182-236Zm488 84q-62 0-105-43t-43-105q0-62 43-105t105-43q62 0 105 43t43 105q0 62-43 105t-105 43Zm66-62 20-20-72-72v-108h-28v120l80 80ZM210-386v-294 400-106Z"
            />
          </svg>
          <div class="text-muted">Разместить</div>
        </button>
      </div>
    </div>
    <hr />
    <div class="alert alert-success" role="alert">
      <div class="text-center">Подтверждено!</div>

      <div
        *ngIf="advertisement.publishFrequency; else oneTime"
        class="text-center"
      >
        Периодичность размещения: раз в {{ advertisement.publishFrequency }}
        {{ getDayWord(advertisement.publishFrequency) }}.
      </div>

      <ng-template #oneTime>
        <div class="text-center">Одноразовое размещение.</div>
      </ng-template>
    </div>
  </div>

  <!-- buttons: status PENDING_PUBLICATION  -->
  <div
    *ngIf="advertisement.statusId === advertisementStatus.pendingPublication"
  >
    <div class="d-flex mt-2">
      <div class="col-6"></div>
      <div
        class="col-6 d-flex flex-column align-items-center justify-content-center"
      >
        <button
          class="btn empty-button"
          (click)="cancelPublicationDialogShow()"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path
              d="M306-466h348v-28H306v28Zm174.17 334q-72.17 0-135.73-27.39-63.56-27.39-110.57-74.35-47.02-46.96-74.44-110.43Q132-407.65 132-479.83q0-72.17 27.39-135.73 27.39-63.56 74.35-110.57 46.96-47.02 110.43-74.44Q407.65-828 479.83-828q72.17 0 135.73 27.39 63.56 27.39 110.57 74.35 47.02 46.96 74.44 110.43Q828-552.35 828-480.17q0 72.17-27.39 135.73-27.39 63.56-74.35 110.57-46.96 47.02-110.43 74.44Q552.35-132 480.17-132Zm-.17-28q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"
            />
          </svg>
          <div class="text-muted">Отменить</div>
        </button>
      </div>
    </div>
    <hr />

    <div class="alert alert-info text-center" role="alert">
      <div class="d-flex flex-column">
        <div>Ожидает размещения!</div>
        <div>
          Будет поставлено в очередь:
          {{ advertisement.nextPublishDate | date : "dd.MM.yyyy" }}
        </div>
      </div>
    </div>
  </div>

  <!-- buttons: status REJECTED  -->
  <div *ngIf="advertisement.statusId === advertisementStatus.rejected">
    <div class="d-flex mt-2">
      <div class="col-6 d-flex align-items-center justify-content-center">
        <button class="btn empty-button" (click)="delete()">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path
              d="m376-336 104-104 104 104 20-20-104-104 104-104-20-20-104 104-104-104-20 20 104 104-104 104 20 20Zm-64 164q-26 0-43-17t-17-43v-488h-40v-28h148v-28h240v28h148v28h-40v488q0 26-17 43t-43 17H312Zm368-548H280v488q0 12 10 22t22 10h336q12 0 22-10t10-22v-488Zm-400 0v520-520Z"
            />
          </svg>
          <div class="text-muted">Удалить</div>
        </button>
      </div>
      <div
        class="col-6 d-flex flex-column align-items-center justify-content-center"
      >
        <button class="btn empty-button">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24px"
            viewBox="0 -960 960 960"
            width="24px"
            fill="#5f6368"
          >
            <path
              d="M200-200h40l439-439-40-40-439 439v40Zm-28 28v-80l527-528q4.39-3.83 9.7-5.91Q714-788 719.68-788q5.67 0 11 1.5Q736-785 741-780l39 39q5 5 6.5 10.41t1.5 10.82q0 5.77-1.91 11.07-1.92 5.31-6.09 9.7L252-172h-80Zm589-548-41-41 41 41Zm-102.35 61.35L639-679l40 40-20.35-19.65Z"
            />
          </svg>
          <div class="text-muted">Редактировать</div>
        </button>
      </div>
    </div>
    <hr />
    <div class="alert alert-warning text-center" role="alert">
      Объявление отклонено!
    </div>
  </div>

  <!-- buttons: status PENDING_VALIDATION  -->
  <div
    *ngIf="advertisement.statusId === advertisementStatus.pendingValidation"
    class="mt-2"
  >
    <div class="alert alert-info text-center" role="alert">
      Отправлено администратору для подтверждения!
    </div>
  </div>

  <!-- No Username error  -->
  <div *ngIf="!accountService.currentUser()?.userName" class="mt-2">
    <div class="alert alert-warning text-center" role="alert">
      <div class="text-center">⚠️ У вас не указан &#64;Username!</div>
      <div class="text-center">
        Обновите свой профиль и в боте выполните комманду
        <strong>/start</strong>.
      </div>
    </div>
  </div>

  <app-advertisement-main-data
    [title]="advertisement.title"
    [message]="advertisement.message"
    [url]="advertisement.adImage?.url"
    [linkName]="advertisement.linkName"
    [linkValue]="advertisement.linkValue"
  ></app-advertisement-main-data>

  <div
    *ngIf="advertisement.adminMessage && advertisement.adminMessage.length > 0"
    class="input-group mt-3 pb-4"
  >
    <span class="input-group-text" id="adminMessage">
      <div>Комментарий:</div>
    </span>
    <textarea
      class="form-control"
      placeholder="Комментарий"
      disabled="true"
      rows="3"
      name="adminMessage"
      [(ngModel)]="advertisement.adminMessage"
    ></textarea>
  </div>

  <ng-template #modalDialogDelete>
    <app-confirm-modal
      [title]="'Удалить объявление?'"
      [firstButtonLabel]="'Да'"
      [secondButtonLabel]="'Нет'"
      (firstButtonAction)="modalDialogDeleteConfirm()"
      (secondButtonAction)="modalRef?.hide()"
    ></app-confirm-modal>
  </ng-template>

  <ng-template #modalDialogCancelPublication>
    <app-confirm-modal
      [title]="'Отменить публикацию?'"
      [firstButtonLabel]="'Да'"
      [secondButtonLabel]="'Нет'"
      (firstButtonAction)="cancelPublication()"
      (secondButtonAction)="modalRef?.hide()"
    ></app-confirm-modal>
  </ng-template>

  <ng-template #modalDialogValidate>
    <app-confirm-modal
      [title]="'Отправить на валидацию?'"
      [info]="'Объявление будет отправлено администратору для подтверждения!'"
      [firstButtonLabel]="'Да'"
      [secondButtonLabel]="'Нет'"
      (firstButtonAction)="modalDialogValidateConfirm()"
      (secondButtonAction)="modalRef?.hide()"
    ></app-confirm-modal>
  </ng-template>

  <ng-template #modalDialogPublicationInfo>
    <div class="modal-body">
      <div class="text-center mb-2">Объявление будет поставлено в очередь</div>
      <div class="text-center mb-2">
        начиная с: {{ nextPublishDate | date : "dd.MM.yyyy" }}
      </div>
      <div class="text-center text-muted mb-2 my-info-text">
        *Размещение объявлений зависит от активности в группе
      </div>
      <div class="d-flex justify-content-end">
        <button
          class="btn empty-button me-4"
          (click)="modalDialogPublishConfirm()"
        >
          <div>Подтвердить</div>
        </button>
        <button class="btn empty-button" (click)="modalRef?.hide()">
          <div>Назад</div>
        </button>
      </div>
    </div>
  </ng-template>
</div>
}
